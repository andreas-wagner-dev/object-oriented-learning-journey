<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <defs>
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f8fafc;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#e2e8f0;stop-opacity:1" />
    </linearGradient>
    
    <!-- Arrow marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
     refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#64748b" />
    </marker>
  </defs>
  
  <rect width="800" height="600" fill="url(#bgGradient)"/>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#1e293b">
    Package-Abstraktions-Hierarchie
  </text>
  
  <!-- Level 0: Global Namespace -->
  <g>
    <rect x="50" y="70" width="700" height="60" fill="#3b82f6" fill-opacity="0.1" stroke="#3b82f6" stroke-width="2" rx="5"/>
    <text x="70" y="90" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1e40af">
      n[0] = com.company.&lt;app&gt; (Global Namespace)
    </text>
    <text x="70" y="110" font-family="Arial, sans-serif" font-size="12" fill="#475569">
      Höchste Abstraktionsebene - Architektur-Foundation
    </text>
  </g>
  
  <!-- Level 1: Core Abstractions -->
  <g>
    <rect x="80" y="160" width="300" height="80" fill="#10b981" fill-opacity="0.1" stroke="#10b981" stroke-width="2" rx="5"/>
    <text x="100" y="180" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#047857">
      a[1] = Customer (Interface)
    </text>
    <text x="100" y="200" font-family="Arial, sans-serif" font-size="11" fill="#475569">
      Business-Konzept, nicht technisch
    </text>
    <text x="100" y="220" font-family="Arial, sans-serif" font-size="11" fill="#475569">
      Ebene 1: Fachliche Abstraktionen
    </text>
    
    <rect x="420" y="160" width="300" height="80" fill="#10b981" fill-opacity="0.1" stroke="#10b981" stroke-width="2" rx="5"/>
    <text x="440" y="180" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#047857">
      a[1] = Payment (Interface)
    </text>
    <text x="440" y="200" font-family="Arial, sans-serif" font-size="11" fill="#475569">
      Business-Konzept, nicht technisch
    </text>
    <text x="440" y="220" font-family="Arial, sans-serif" font-size="11" fill="#475569">
      Ebene 1: Fachliche Abstraktionen
    </text>
  </g>
  
  <!-- Level 2: Implementation Packages -->
  <g>
    <rect x="60" y="280" width="140" height="100" fill="#f59e0b" fill-opacity="0.1" stroke="#f59e0b" stroke-width="2" rx="5"/>
    <text x="70" y="300" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#d97706">
      p[1] = customer
    </text>
    <text x="70" y="320" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      • SmartCustomer</text>
    <text x="70" y="335" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      • CachedCustomer</text>
    <text x="70" y="350" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      • ValidatedCustomer</text>
    <text x="70" y="365" font-family="Arial, sans-serif" font-size="9" fill="#64748b">
      Decorator-Pattern ⊑ a[1]</text>
    
    <rect x="240" y="280" width="140" height="100" fill="#f59e0b" fill-opacity="0.1" stroke="#f59e0b" stroke-width="2" rx="5"/>
    <text x="250" y="300" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#d97706">
      p[1] = customer.persistence
    </text>
    <text x="250" y="320" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      • PersistedCustomer</text>
    <text x="250" y="335" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      • CustomerRecord</text>
    <text x="250" y="350" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      • CustomerFile</text>
    <text x="250" y="365" font-family="Arial, sans-serif" font-size="9" fill="#64748b">
      Nur Persistierung-Details</text>
    
    <rect x="420" y="280" width="140" height="100" fill="#f59e0b" fill-opacity="0.1" stroke="#f59e0b" stroke-width="2" rx="5"/>
    <text x="430" y="300" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#d97706">
      p[1] = payment
    </text>
    <text x="430" y="320" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      • SafePayment</text>
    <text x="430" y="335" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      • AsyncPayment</text>
    <text x="430" y="350" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      • LoggedPayment</text>
    <text x="430" y="365" font-family="Arial, sans-serif" font-size="9" fill="#64748b">
      Decorator-Pattern ⊑ a[1]</text>
    
    <rect x="600" y="280" width="140" height="100" fill="#f59e0b" fill-opacity="0.1" stroke="#f59e0b" stroke-width="2" rx="5"/>
    <text x="610" y="300" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#d97706">
      p[1] = payment.gateway
    </text>
    <text x="610" y="320" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      • StripePayment</text>
    <text x="610" y="335" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      • PayPalPayment</text>
    <text x="610" y="350" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      • BankPayment</text>
    <text x="610" y="365" font-family="Arial, sans-serif" font-size="9" fill="#64748b">
      Gateway-Implementierungen</text>
  </g>
  
  <!-- Arrows showing hierarchy -->
  <line x1="230" y1="130" x2="230" y2="150" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="570" y1="130" x2="570" y2="150" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <line x1="230" y1="240" x2="130" y2="270" stroke="#64748b" stroke-width="1" marker-end="url(#arrowhead)"/>
  <line x1="230" y1="240" x2="310" y2="270" stroke="#64748b" stroke-width="1" marker-end="url(#arrowhead)"/>
  <line x1="570" y1="240" x2="490" y2="270" stroke="#64748b" stroke-width="1" marker-end="url(#arrowhead)"/>
  <line x1="570" y1="240" x2="670" y2="270" stroke="#64748b" stroke-width="1" marker-end="url(#arrowhead)"/>
  
  <!-- Legend -->
  <g>
    <rect x="50" y="420" width="700" height="160" fill="#ffffff" fill-opacity="0.9" stroke="#cbd5e1" stroke-width="1" rx="5"/>
    <text x="70" y="440" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1e293b">
      Yegor's Architektur-Prinzipien
    </text>
    
    <circle cx="80" cy="460" r="4" fill="#3b82f6"/>
    <text x="95" y="465" font-family="Arial, sans-serif" font-size="12" fill="#475569">
      Business-Namen: "Customer", "Payment" - nicht "UserService", "PaymentProcessor"
    </text>
    
    <circle cx="80" cy="485" r="4" fill="#10b981"/>
    <text x="95" y="490" font-family="Arial, sans-serif" font-size="12" fill="#475569">
      Decorator Pattern: Komposition statt Vererbung für Funktionalität
    </text>
    
    <circle cx="80" cy="510" r="4" fill="#f59e0b"/>
    <text x="95" y="515" font-family="Arial, sans-serif" font-size="12" fill="#475569">
      Sub-Packages: Keine neuen Konzepte, nur technische Details
    </text>
    
    <text x="70" y="540" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1e293b">
      Abhängigkeitsregel: Parent ↛ Child (Keine Rückabhängigkeiten)
    </text>
    <text x="70" y="560" font-family="Arial, sans-serif" font-size="11" fill="#64748b">
      Root-Package ist API, Sub-Packages implementieren nur Details ohne neue Business-Logik
    </text>
  </g>
  
  <!-- Abstraction Level Labels -->
  <text x="20" y="105" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#64748b" transform="rotate(-90, 20, 105)">
    Ebene 0
  </text>
  <text x="20" y="200" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#64748b" transform="rotate(-90, 20, 200)">
    Ebene 1
  </text>
  <text x="20" y="330" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#64748b" transform="rotate(-90, 20, 330)">
    Ebene 2+
  </text>
</svg>