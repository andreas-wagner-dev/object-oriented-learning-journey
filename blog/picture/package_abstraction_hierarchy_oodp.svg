<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <defs>
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f8fafc;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#e2e8f0;stop-opacity:1" />
    </linearGradient>
    
    <!-- Arrow marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
     refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#64748b" />
    </marker>
  </defs>
  
  <rect width="800" height="600" fill="url(#bgGradient)"/>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#1e293b">
    OOP-konforme Package-Architektur (Yegor's Principles)
  </text>
  
  <!-- Level 0: Global Namespace -->
  <g>
    <rect x="50" y="70" width="700" height="50" fill="#3b82f6" fill-opacity="0.1" stroke="#3b82f6" stroke-width="2" rx="5"/>
    <text x="70" y="90" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1e40af">
      n[0] = com.company.banking (Business Domain)
    </text>
    <text x="70" y="110" font-family="Arial, sans-serif" font-size="12" fill="#475569">
      Root: Definiert Business-Entitäten als Interfaces
    </text>
  </g>
  
  <!-- Level 1: Business Entity Interfaces -->
  <g>
    <rect x="60" y="150" width="160" height="70" fill="#10b981" fill-opacity="0.15" stroke="#10b981" stroke-width="2" rx="5"/>
    <text x="70" y="170" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#047857">
      Account (Interface)
    </text>
    <text x="70" y="185" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      balance(), withdraw()</text>
    <text x="70" y="200" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      deposit(), statement()</text>
    
    <rect x="250" y="150" width="160" height="70" fill="#10b981" fill-opacity="0.15" stroke="#10b981" stroke-width="2" rx="5"/>
    <text x="260" y="170" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#047857">
      Customer (Interface)
    </text>
    <text x="260" y="185" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      name(), accounts()</text>
    <text x="260" y="200" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      credit(), history()</text>
    
    <rect x="440" y="150" width="160" height="70" fill="#10b981" fill-opacity="0.15" stroke="#10b981" stroke-width="2" rx="5"/>
    <text x="450" y="170" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#047857">
      Transaction (Interface)
    </text>
    <text x="450" y="185" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      amount(), date()</text>
    <text x="450" y="200" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      description(), verify()</text>
    
    <rect x="630" y="150" width="120" height="70" fill="#10b981" fill-opacity="0.15" stroke="#10b981" stroke-width="2" rx="5"/>
    <text x="640" y="170" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#047857">
      Money (Interface)
    </text>
    <text x="640" y="185" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      amount(), currency()</text>
    <text x="640" y="200" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      plus(), minus()</text>
  </g>
  
  <!-- Level 2: Core Decorators -->
  <g>
    <rect x="40" y="260" width="120" height="90" fill="#f59e0b" fill-opacity="0.15" stroke="#f59e0b" stroke-width="2" rx="5"/>
    <text x="50" y="280" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#d97706">
      account/
    </text>
    <text x="50" y="295" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      • SafeAccount</text>
    <text x="50" y="308" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      • ValidAccount</text>
    <text x="50" y="321" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      • SmartAccount</text>
    <text x="50" y="334" font-family="Arial, sans-serif" font-size="9" fill="#64748b">
      Decorator: Account</text>
    
    <rect x="180" y="260" width="120" height="90" fill="#f59e0b" fill-opacity="0.15" stroke="#f59e0b" stroke-width="2" rx="5"/>
    <text x="190" y="280" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#d97706">
      customer/
    </text>
    <text x="190" y="295" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      • CachedCustomer</text>
    <text x="190" y="308" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      • VipCustomer</text>
    <text x="190" y="321" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      • SmartCustomer</text>
    <text x="190" y="334" font-family="Arial, sans-serif" font-size="9" fill="#64748b">
      Decorator: Customer</text>
    
    <rect x="320" y="260" width="120" height="90" fill="#f59e0b" fill-opacity="0.15" stroke="#f59e0b" stroke-width="2" rx="5"/>
    <text x="330" y="280" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#d97706">
      transaction/
    </text>
    <text x="330" y="295" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      • SignedTransaction</text>
    <text x="330" y="308" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      • LoggedTransaction</text>
    <text x="330" y="321" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      • FastTransaction</text>
    <text x="330" y="334" font-family="Arial, sans-serif" font-size="9" fill="#64748b">
      Decorator: Transaction</text>
    
    <rect x="460" y="260" width="120" height="90" fill="#f59e0b" fill-opacity="0.15" stroke="#f59e0b" stroke-width="2" rx="5"/>
    <text x="470" y="280" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#d97706">
      money/
    </text>
    <text x="470" y="295" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      • UsdMoney</text>
    <text x="470" y="308" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      • EuroMoney</text>
    <text x="470" y="321" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      • ExchangeMoney</text>
    <text x="470" y="334" font-family="Arial, sans-serif" font-size="9" fill="#64748b">
      Decorator: Money</text>
  </g>
  
  <!-- Level 3: Technical Details -->
  <g>
    <rect x="40" y="380" width="100" height="80" fill="#e11d48" fill-opacity="0.1" stroke="#e11d48" stroke-width="1" rx="3"/>
    <text x="45" y="395" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#be123c">
      account/sql/
    </text>
    <text x="45" y="408" font-family="Arial, sans-serif" font-size="9" fill="#475569">
      • SqlAccount</text>
    <text x="45" y="420" font-family="Arial, sans-serif" font-size="9" fill="#475569">
      • AccountTable</text>
    <text x="45" y="432" font-family="Arial, sans-serif" font-size="8" fill="#64748b">
      SQL Details</text>
    
    <rect x="150" y="380" width="100" height="80" fill="#e11d48" fill-opacity="0.1" stroke="#e11d48" stroke-width="1" rx="3"/>
    <text x="155" y="395" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#be123c">
      account/file/
    </text>
    <text x="155" y="408" font-family="Arial, sans-serif" font-size="9" fill="#475569">
      • FileAccount</text>
    <text x="155" y="420" font-family="Arial, sans-serif" font-size="9" fill="#475569">
      • AccountCsv</text>
    <text x="155" y="432" font-family="Arial, sans-serif" font-size="8" fill="#64748b">
      File Details</text>
    
    <rect x="260" y="380" width="100" height="80" fill="#e11d48" fill-opacity="0.1" stroke="#e11d48" stroke-width="1" rx="3"/>
    <text x="265" y="395" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#be123c">
      customer/web/
    </text>
    <text x="265" y="408" font-family="Arial, sans-serif" font-size="9" fill="#475569">
      • WebCustomer</text>
    <text x="265" y="420" font-family="Arial, sans-serif" font-size="9" fill="#475569">
      • HttpCustomer</text>
    <text x="265" y="432" font-family="Arial, sans-serif" font-size="8" fill="#64748b">
      Web Details</text>
    
    <rect x="370" y="380" width="100" height="80" fill="#e11d48" fill-opacity="0.1" stroke="#e11d48" stroke-width="1" rx="3"/>
    <text x="375" y="395" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#be123c">
      transaction/crypto/
    </text>
    <text x="375" y="408" font-family="Arial, sans-serif" font-size="9" fill="#475569">
      • CryptoTransaction</text>
    <text x="375" y="420" font-family="Arial, sans-serif" font-size="9" fill="#475569">
      • HashTransaction</text>
    <text x="375" y="432" font-family="Arial, sans-serif" font-size="8" fill="#64748b">
      Crypto Details</text>
  </g>
  
  <!-- Arrows showing hierarchy -->
  <line x1="140" y1="220" x2="100" y2="250" stroke="#64748b" stroke-width="1" marker-end="url(#arrowhead)"/>
  <line x1="330" y1="220" x2="240" y2="250" stroke="#64748b" stroke-width="1" marker-end="url(#arrowhead)"/>
  <line x1="520" y1="220" x2="380" y2="250" stroke="#64748b" stroke-width="1" marker-end="url(#arrowhead)"/>
  <line x1="690" y1="220" x2="520" y2="250" stroke="#64748b" stroke-width="1" marker-end="url(#arrowhead)"/>
  
  <line x1="100" y1="350" x2="90" y2="375" stroke="#64748b" stroke-width="1" marker-end="url(#arrowhead)"/>
  <line x1="100" y1="350" x2="200" y2="375" stroke="#64748b" stroke-width="1" marker-end="url(#arrowhead)"/>
  <line x1="240" y1="350" x2="310" y2="375" stroke="#64748b" stroke-width="1" marker-end="url(#arrowhead)"/>
  <line x1="380" y1="350" x2="420" y2="375" stroke="#64748b" stroke-width="1" marker-end="url(#arrowhead)"/>
  
  <!-- Decorator Pattern Example -->
  <g>
    <rect x="600" y="280" width="180" height="120" fill="#8b5cf6" fill-opacity="0.1" stroke="#8b5cf6" stroke-width="2" rx="5"/>
    <text x="610" y="300" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#6d28d9">
      Decorator Composition
    </text>
    <text x="610" y="320" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      Account account = 
    </text>
    <text x="615" y="335" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      new SafeAccount(
    </text>
    <text x="620" y="350" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      new ValidAccount(
    </text>
    <text x="625" y="365" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      new SqlAccount(origin)
    </text>
    <text x="620" y="380" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      )
    </text>
    <text x="615" y="390" font-family="Arial, sans-serif" font-size="10" fill="#475569">
      );
    </text>
  </g>
  
  <!-- Legend -->
  <g>
    <rect x="50" y="490" width="730" height="100" fill="#ffffff" fill-opacity="0.9" stroke="#cbd5e1" stroke-width="1" rx="5"/>
    <text x="70" y="510" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1e293b">
      Yegor's OOP-Prinzipien in der Package-Struktur
    </text>
    
    <circle cx="80" cy="530" r="4" fill="#10b981"/>
    <text x="95" y="535" font-family="Arial, sans-serif" font-size="11" fill="#475569">
      Business-Entitäten als Interfaces: Account, Customer, Money (nicht AccountService)
    </text>
    
    <circle cx="80" cy="550" r="4" fill="#f59e0b"/>
    <text x="95" y="555" font-family="Arial, sans-serif" font-size="11" fill="#475569">
      Decorator Pattern: SafeAccount, ValidAccount - Komposition statt Vererbung
    </text>
    
    <circle cx="80" cy="570" r="4" fill="#e11d48"/>
    <text x="95" y="575" font-family="Arial, sans-serif" font-size="11" fill="#475569">
      Sub-Packages: Nur technische Details (SQL, File, Web) - keine neuen Business-Konzepte
    </text>
    
    <text x="450" y="535" font-family="Arial, sans-serif" font-size="11" fill="#64748b">
      ✓ Parent ↛ Child Dependencies
    </text>
    <text x="450" y="555" font-family="Arial, sans-serif" font-size="11" fill="#64748b">
      ✓ "Was es ist" nicht "was es tut"
    </text>
    <text x="450" y="575" font-family="Arial, sans-serif" font-size="11" fill="#64748b">
      ✓ Intelligente Objekte statt Daten-Container
    </text>
  </g>
  
  <!-- Level Labels -->
  <text x="20" y="100" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#64748b" transform="rotate(-90, 20, 100)">
    Domain
  </text>
  <text x="20" y="185" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#64748b" transform="rotate(-90, 20, 185)">
    Entities
  </text>
  <text x="20" y="300" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#64748b" transform="rotate(-90, 20, 300)">
    Decorators
  </text>
  <text x="20" y="420" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#64748b" transform="rotate(-90, 20, 420)">
    Details
  </text>
</svg>